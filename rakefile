
require 'rubygems'
require 'rubygems/package'

MINOR_VERSION = ENV['GO_PIPELINE_LABEL'] || Time.now.tv_sec.to_s

desc 'Build Gem'
task :build do
  spec = Gem::Specification.new do |s|
    s.name           = 'autostacker24'
    s.authors        = ['Johannes Mueller', 'Christian Rodemeyer']
    s.email          = %w(jmueller@autoscout24.com crodemeyer@autoscout24.com)
    s.description    = 'Library for managing AWS CloudFormation stacks'
    s.summary        = 'Library for managing AWS CloudFormation stacks'
    s.license        = 'MIT'
    s.files          = FileList['lib/**/*']
    s.require_paths  = ['lib']
    s.version        = "1.0.#{MINOR_VERSION}"
    s.add_dependency 'aws-sdk', '~> 2.0.pre'
  end
  Gem::Package.build(spec)
end


task :default => :build

